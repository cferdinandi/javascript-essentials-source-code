<!DOCTYPE html>
<html lang="en">

	<head>
		<meta charset="utf-8">
		<title>Early return pattern</title>
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
	</head>

	<body>

		<script>
			// The early return pattern
			function handleClick (event) {

				// Make sure clicked element has the .save-data class
				if (!event.target.matches('.save-data')) return;

				// Get the value of the [data-id] attribute
				let id = event.target.getAttribute('data-id');
				if (!id) return;

				// Get the user token from localStorage
				let token = localStorage.getItem('token');
				if (!token) return;

				// Save the ID to localStorage
				localStorage.setItem(`${token}_${id}`, true);

			}


			// NOT using the early return pattern
			function handleClick2 (event) {

				// Make sure clicked element has the .save-data class
				if (event.target.matches('.save-data')) {

					// Get the value of the [data-id] attribute
					let id = event.target.getAttribute('data-id');

					// Make sure there's an ID
					if (id) {

						// Get the user token from localStorage
						let token = localStorage.getItem('token');

						// Make sure there's a token
						if (token) {

							// Save the ID to localStorage
							localStorage.setItem(`${token}_${id}`, true);

						}

					}

				}

			}
		</script>
	</body>
</html>